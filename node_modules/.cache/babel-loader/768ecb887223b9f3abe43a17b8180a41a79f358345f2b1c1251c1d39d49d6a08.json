{"ast":null,"code":"import API from \"../../API\";\nimport { addFavouritesAction, fetchFavouritesAction, deleteFavouritesAction } from \"./actions\";\nconst api = new API();\nconst FAVOURITES_KEY = \"FAVOURITES_KEY\";\nexport const fetchFromLocalStorage = () => {\n  return async dispatch => {\n    let favouritsJSON = localStorage.getItem(FAVOURITES_KEY);\n    let favourites = [];\n    if (favouritsJSON) {\n      favourites = JSON.parse(favouritsJSON);\n    }\n    dispatch(fetchFavouritesAction(favourites));\n  };\n};\nexport const addFavourite = place => {\n  return async (dispatch, getState) => {\n    let prevFavourites = getState().favourites.list;\n    const nextFavorites = [place, ...prevFavourites];\n    setToLocalStorage(nextFavorites);\n    dispatch(addFavouritesAction(nextFavorites));\n  };\n};\nexport const deleteFavourite = id => {\n  return async (dispatch, getState) => {\n    let prevFavourites = getState().favourites.list;\n    const nextFavourites = prevFavourites.filter(image => image.id !== id);\n    setToLocalStorage(nextFavourites);\n    dispatch(deleteFavouritesAction(nextFavourites));\n  };\n};\nexport const setToLocalStorage = favourites => {\n  localStorage.setItem(FAVOURITES_KEY, JSON.stringify(favourites));\n};","map":{"version":3,"names":["API","addFavouritesAction","fetchFavouritesAction","deleteFavouritesAction","api","FAVOURITES_KEY","fetchFromLocalStorage","dispatch","favouritsJSON","localStorage","getItem","favourites","JSON","parse","addFavourite","place","getState","prevFavourites","list","nextFavorites","setToLocalStorage","deleteFavourite","id","nextFavourites","filter","image","setItem","stringify"],"sources":["/Users/sankarasauvignon/Downloads/Around-The-World-main/frontend/src/reducks/favourites/operations.js"],"sourcesContent":["import API from \"../../API\";\nimport {\n  addFavouritesAction,\n  fetchFavouritesAction,\n  deleteFavouritesAction,\n} from \"./actions\";\nconst api = new API();\n\nconst FAVOURITES_KEY = \"FAVOURITES_KEY\";\nexport const fetchFromLocalStorage = () => {\n  return async (dispatch) => {\n    let favouritsJSON = localStorage.getItem(FAVOURITES_KEY);\n    let favourites = [];\n    if (favouritsJSON) {\n      favourites = JSON.parse(favouritsJSON);\n    }\n    dispatch(fetchFavouritesAction(favourites));\n  };\n};\nexport const addFavourite = (place) => {\n  return async (dispatch, getState) => {\n    let prevFavourites = getState().favourites.list;\n    const nextFavorites = [place, ...prevFavourites];\n    setToLocalStorage(nextFavorites);\n    dispatch(addFavouritesAction(nextFavorites));\n  };\n};\nexport const deleteFavourite = (id) => {\n  return async (dispatch, getState) => {\n    let prevFavourites = getState().favourites.list;\n    const nextFavourites = prevFavourites.filter((image) => image.id !== id);\n    setToLocalStorage(nextFavourites);\n    dispatch(deleteFavouritesAction(nextFavourites));\n  };\n};\nexport const setToLocalStorage = (favourites) => {\n  localStorage.setItem(FAVOURITES_KEY, JSON.stringify(favourites));\n};"],"mappings":"AAAA,OAAOA,GAAG,MAAM,WAAW;AAC3B,SACEC,mBAAmB,EACnBC,qBAAqB,EACrBC,sBAAsB,QACjB,WAAW;AAClB,MAAMC,GAAG,GAAG,IAAIJ,GAAG,EAAE;AAErB,MAAMK,cAAc,GAAG,gBAAgB;AACvC,OAAO,MAAMC,qBAAqB,GAAG,MAAM;EACzC,OAAO,MAAOC,QAAQ,IAAK;IACzB,IAAIC,aAAa,GAAGC,YAAY,CAACC,OAAO,CAACL,cAAc,CAAC;IACxD,IAAIM,UAAU,GAAG,EAAE;IACnB,IAAIH,aAAa,EAAE;MACjBG,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACL,aAAa,CAAC;IACxC;IACAD,QAAQ,CAACL,qBAAqB,CAACS,UAAU,CAAC,CAAC;EAC7C,CAAC;AACH,CAAC;AACD,OAAO,MAAMG,YAAY,GAAIC,KAAK,IAAK;EACrC,OAAO,OAAOR,QAAQ,EAAES,QAAQ,KAAK;IACnC,IAAIC,cAAc,GAAGD,QAAQ,EAAE,CAACL,UAAU,CAACO,IAAI;IAC/C,MAAMC,aAAa,GAAG,CAACJ,KAAK,EAAE,GAAGE,cAAc,CAAC;IAChDG,iBAAiB,CAACD,aAAa,CAAC;IAChCZ,QAAQ,CAACN,mBAAmB,CAACkB,aAAa,CAAC,CAAC;EAC9C,CAAC;AACH,CAAC;AACD,OAAO,MAAME,eAAe,GAAIC,EAAE,IAAK;EACrC,OAAO,OAAOf,QAAQ,EAAES,QAAQ,KAAK;IACnC,IAAIC,cAAc,GAAGD,QAAQ,EAAE,CAACL,UAAU,CAACO,IAAI;IAC/C,MAAMK,cAAc,GAAGN,cAAc,CAACO,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACH,EAAE,KAAKA,EAAE,CAAC;IACxEF,iBAAiB,CAACG,cAAc,CAAC;IACjChB,QAAQ,CAACJ,sBAAsB,CAACoB,cAAc,CAAC,CAAC;EAClD,CAAC;AACH,CAAC;AACD,OAAO,MAAMH,iBAAiB,GAAIT,UAAU,IAAK;EAC/CF,YAAY,CAACiB,OAAO,CAACrB,cAAc,EAAEO,IAAI,CAACe,SAAS,CAAChB,UAAU,CAAC,CAAC;AAClE,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}